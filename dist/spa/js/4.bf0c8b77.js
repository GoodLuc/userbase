(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{4109:function(e,t,s){},"6dec":function(e,t,s){"use strict";var a=s("4109"),r=s.n(a);r.a},"8b24":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",[s("h1",{staticClass:"text-center"},[e._v("Userbase")]),e.users.length?s("div",[s("table",{staticClass:"userTable"},[s("thead",[s("tr",[s("td",[e._v("ID")]),s("td",[e._v("Nombre")]),s("td",[e._v("Edad")]),s("td",[e._v("Sexo")]),s("td",[e._v("Email")]),s("td")])]),s("tbody",e._l(e.userPage,(function(t){return s("tr",{key:t.id},[t.id?s("td",[e._v(e._s(t.id))]):e._e(),t.nombre?s("td",[e._v(e._s(t.nombre))]):e._e(),t.nacimiento?s("td",[e._v(e._s(t.nacimiento))]):e._e(),t.sexo?s("td",[s("span",{staticClass:"sx"},[e._v(e._s(t.sexo))])]):e._e(),t.email?s("td",[e._v(e._s(t.email))]):e._e(),s("td",{attrs:{align:"right"}},[s("div",{staticClass:"q-gutter-xs"},[s("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"edit"},on:{click:function(s){return e.editUser(t.id)}}}),s("q-btn",{attrs:{flat:"",round:"",color:"red",icon:"delete"},on:{click:function(s){return e.deleteDialogPrompt(t.id)}}})],1)])])})),0)]),e.users.length>5?s("div",{staticClass:"q-py-md",attrs:{align:"center"}},e._l(e.pages,(function(t){return s("q-btn",{key:t,class:{currentPage:e.page==t},attrs:{flat:"",label:t},on:{click:function(s){return e.setPage(t)}}})})),1):e._e(),s("div",{staticClass:"q-py-lg",attrs:{align:"right"}},[s("q-btn",{attrs:{color:"primary",icon:"person_add",label:"Cargar usuario"},on:{click:e.showUserForm}})],1)]):s("div",{staticClass:"text-center"},[s("p",[e._v("No hay usuarios cargados.")]),s("q-btn",{attrs:{color:"primary",icon:"person_add",label:"Cargar usuario"},on:{click:e.showUserForm}})],1),s("q-dialog",{ref:"userFormDialog",model:{value:e.userFormDialog,callback:function(t){e.userFormDialog=t},expression:"userFormDialog"}},[s("q-card",{staticClass:"userFormDialog"},[s("q-card-section",[s("h2",[s("q-icon",{attrs:{name:e.userFormIcon}}),e._v(" "+e._s(e.userFormTitle))],1),s("form",[s("div",{staticClass:"q-mb-sm"},[s("q-input",{attrs:{outlined:"",label:"Nombre",rules:[function(e){return e&&e.length>0||"Por favor complete este campo"}]},model:{value:e.userInput["nombre"],callback:function(t){e.$set(e.userInput,"nombre",t)},expression:"userInput['nombre']"}})],1),s("div",{staticClass:"q-mb-sm"},[s("q-input",{attrs:{outlined:"",rules:[function(e){return e&&e.length>0||"Por favor complete este campo"}],label:"Fecha de nacimiento"},on:{focus:function(t){return e.$refs.qDateProxy.show()}},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD-MM-YYYY","default-year-month":e.defaultCalendarYearAndMonth},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.userInput["nacimiento"],callback:function(t){e.$set(e.userInput,"nacimiento",t)},expression:"userInput['nacimiento']"}})],1)],1)]},proxy:!0}]),model:{value:e.userInput["nacimiento"],callback:function(t){e.$set(e.userInput,"nacimiento",t)},expression:"userInput['nacimiento']"}})],1),s("div",{staticClass:"q-mb-lg"},[s("div",{staticClass:"q-gutter-sm flex"},[s("label",{staticClass:"self-center"},[s("strong",[e._v("Sexo")])]),s("q-radio",{attrs:{val:"Femenino",label:"Femenino",color:"pink"},model:{value:e.userInput["sexo"],callback:function(t){e.$set(e.userInput,"sexo",t)},expression:"userInput['sexo']"}}),s("q-radio",{attrs:{val:"Masculino",label:"Masculino",color:"blue"},model:{value:e.userInput["sexo"],callback:function(t){e.$set(e.userInput,"sexo",t)},expression:"userInput['sexo']"}})],1)]),s("div",{staticClass:"q-mb-sm"},[s("q-input",{attrs:{outlined:"",type:"email",label:"Email",rules:[function(e){return e&&e.length>0||"Por favor complete este campo"},e.isValidEmail]},model:{value:e.userInput["email"],callback:function(t){e.$set(e.userInput,"email",t)},expression:"userInput['email']"}})],1)])]),s("q-card-actions",{staticClass:"q-mb-lg q-pa-md",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar"}}),s("q-btn",{attrs:{label:"Guardar",color:"primary",icon:"save"},on:{click:e.saveUser}})],1)],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.message.on,callback:function(t){e.$set(e.message,"on",t)},expression:"message.on"}},[s("q-card",{staticClass:"bg-primary text-white",staticStyle:{width:"300px"}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[e._v(e._s(e.message.title))])]),s("q-card-section",{staticClass:"q-pt-none"},[e._v("\n        "+e._s(e.message.text)+"\n      ")]),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white"}}),s("span",{staticClass:"q-ml-sm"},[e._v("Â¿Seguro que desea eliminar el usuario "),s("strong",[e._v(e._s(e.usuarioAEliminar.nombre))]),e._v("?")])],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Eliminar",icon:"delete",color:"red"},on:{click:function(t){return e.deleteConfirm(e.usuarioAEliminar.id)}}})],1)],1)],1)],1)},r=[],i=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("456d"),s("7514"),s("f751"),s("20d6"),s("c47a")),o=s.n(i);s("6b54"),s("06db");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"PageIndex",data:function(){return{users:[],page:1,userFormDialog:!1,userFormIcon:"person_add",userFormTitle:"Agregar usuario",userInput:{nombre:"",nacimiento:"",sexo:"",email:""},defaultCalendarYearAndMonth:((new Date).getFullYear()-21).toString()+"/01",message:{on:!1,title:"",text:""},deleteDialog:!1,usuarioAEliminar:""}},methods:{showUserForm:function(){this.userFormTitle="Agregar usuario",this.userFormIcon="person_add",this.userFormDialog=!0,this.userInput={nombre:"",nacimiento:"",sexo:"",email:""}},saveUser:function(){var e=this,t=!0;for(var s in this.userInput)""==this.userInput[s]&&(t=!1);t?(this.userInput.hasOwnProperty("id")?this.users[this.users.findIndex((function(t){return t.id==e.userInput.id}))]=this.userInput:this.users.push(l({},this.userInput,{id:this.users.length+1})),window.localStorage.setItem("usuarios",JSON.stringify(this.users)),this.users=JSON.parse(window.localStorage.getItem("usuarios")),this.message={on:!0,title:"Usuario guardado",text:"Se ha guardado exitosamente el usuario "+this.userInput.nombre},this.$refs.userFormDialog.hide(),this.userInput={nombre:"",nacimiento:"",sexo:"",email:""}):this.message={on:!0,title:"Faltan completar campos",text:"Por favor complete todos los campos para poder guardar el usuario."}},editUser:function(e){this.userFormTitle="Editar usuario",this.userFormIcon="edit",Object.assign(this.userInput,this.users.find((function(t){return t.id==e}))),this.userFormDialog=!0},deleteDialogPrompt:function(e){this.usuarioAEliminar=this.users.find((function(t){return t.id==e})),this.deleteDialog=!0},deleteConfirm:function(e){this.users.splice(this.users.findIndex((function(t){return t.id==e})),1),this.deleteDialog=!1,this.message={on:!0,title:"Usuario eliminado",text:"Se ha eliminado el usuario "+this.usuarioAEliminar.nombre},window.localStorage.setItem("usuarios",JSON.stringify(this.users))},setPage:function(e){this.page=e},isValidEmail:function(e){var t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Esto no parece un email"}},computed:{userPage:function(){if(1==this.page)var e=0;else e=5*this.page-5;return this.users.slice(e,e+5)},pages:function(){return Math.ceil(this.users.length/5)}},mounted:function(){window.localStorage.getItem("usuarios")?this.users=JSON.parse(window.localStorage.getItem("usuarios")):(console.log("No user base detected. Creating..."),window.localStorage.setItem("usuarios",JSON.stringify([])),this.users=JSON.parse(window.localStorage.getItem("usuarios")))}},c=u,d=(s("6dec"),s("2877")),p=s("eebe"),m=s.n(p),g=s("9989"),f=s("9c40"),h=s("24e8"),b=s("f09f"),v=s("a370"),q=s("0016"),x=s("27f9"),I=s("7cbe"),_=s("52ee"),w=s("3786"),y=s("4b7e"),C=s("cb32"),D=s("7f67"),P=Object(d["a"])(c,a,r,!1,null,null,null);t["default"]=P.exports;m()(P,"components",{QPage:g["a"],QBtn:f["a"],QDialog:h["a"],QCard:b["a"],QCardSection:v["a"],QIcon:q["a"],QInput:x["a"],QPopupProxy:I["a"],QDate:_["a"],QRadio:w["a"],QCardActions:y["a"],QAvatar:C["a"]}),m()(P,"directives",{ClosePopup:D["a"]})}}]);